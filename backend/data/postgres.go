package data

import (
	"fmt"
	"github.com/go-pg/pg/v10"
	"github.com/go-pg/pg/v10/orm"
	"github.com/google/uuid"
	dataModels "webservice/data/dataModels"
)

var db *pg.DB

func Init() error {
	url := "postgres://tasking_user:tasking_password@database:5432/tasking_database?sslmode=disable"
	//opt, err := pg.ParseURL(os.Getenv("DATABASE_URL"))
	opt, err := pg.ParseURL(url)
	if err != nil {
		panic(err)
	}

	db = pg.Connect(opt)

	err = createSchema()
	if err != nil {
		panic(err)
	}

	return nil
}

func GetDbConnection() *pg.Conn {
	return db.Conn()
}

func createSchema() error {
	fmt.Print("Creating DB...")
	db := GetDbConnection()
	defer db.Close()

	transaction, transactionError := db.Begin()
	if transactionError != nil {
		panic(transactionError)
	}

	defer func() {
		if r := recover(); r != nil {
			fmt.Printf("Something went wrong during creation: %s\n", r)
			transaction.Rollback()
			panic(r)
		}
	}()

	models := []interface{}{
		(*dataModels.Task)(nil),
		(*dataModels.TaskHistory)(nil),
	}

	for _, model := range models {
		err := db.Model(model).CreateTable(&orm.CreateTableOptions{
			IfNotExists: true,
		})
		if err != nil {
			fmt.Println("Error occurred! Rolling back...")
			transaction.Rollback()
			return err
		}
	}

	taskCount, err := db.Model(&dataModels.Task{}).Count()

	if err != nil {
		fmt.Println("Error occurred! Rolling back...")
		transaction.Rollback()
		return err
	}

	if taskCount == 0 {
		db.Model(&dataModels.Task{
			TaskId:       uuid.New(),
			Title:        "Drink Beer",
			IconUrl:      "https://static.independent.co.uk/s3fs-public/thumbnails/image/2019/08/01/17/istock-1060456922.jpg",
			XCoordinates: 20,
			YCoordinates: 35,
		}).Insert()

		db.Model(&dataModels.Task{
			TaskId:       uuid.New(),
			Title:        "Pet Elvis",
			IconUrl:      "data:image/jpeg;base64,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",
			XCoordinates: 50,
			YCoordinates: 58,
		}).Insert()

		db.Model(&dataModels.Task{
			TaskId:       uuid.New(),
			Title:        "Visit Erika",
			IconUrl:      "https://www.aromatico.de/media/e9/9d/a7/1659435184/Coffee-Break-Header-desktop.jpg",
			XCoordinates: 34,
			YCoordinates: 53,
		}).Insert()

		db.Model(&dataModels.Task{
			TaskId:       uuid.New(),
			Title:        "Get Coffee",
			IconUrl:      "https://cdn.shopify.com/s/files/1/0666/3939/7160/articles/Health-Benefits-Of-Cappuccino-Coffee.jpg?v=1667752802",
			XCoordinates: 60,
			YCoordinates: 29,
		}).Insert()
	}

	transaction.Commit()
	fmt.Println("DB created!")

	return nil
}
